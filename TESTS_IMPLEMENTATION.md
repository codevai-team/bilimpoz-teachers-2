# –†–µ–∞–ª–∏–∑–∞—Ü–∏—è —Ä–∞–∑–¥–µ–ª–∞ "–¢–µ—Å—Ç—ã" - –ö—Ä–∞—Ç–∫–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Å–∏—Å—Ç–µ–º—ã —Å–æ–∑–¥–∞–Ω–∏—è –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ç–µ—Å—Ç–∞–º–∏ –¥–ª—è —É—á–∏—Ç–µ–ª–µ–π.

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

1. [–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞](#–∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞)
2. [–¢–∏–ø—ã –≤–æ–ø—Ä–æ—Å–æ–≤](#—Ç–∏–ø—ã-–≤–æ–ø—Ä–æ—Å–æ–≤)
3. [–°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞](#—Å–æ–∑–¥–∞–Ω–∏–µ-—Ç–µ—Å—Ç–∞)
4. [–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞](#—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ-—Ç–µ—Å—Ç–∞)
5. [–ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ç–µ—Å—Ç–∞](#–ø—É–±–ª–∏–∫–∞—Ü–∏—è-—Ç–µ—Å—Ç–∞)
6. [–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö](#—Ö—Ä–∞–Ω–µ–Ω–∏–µ-–¥–∞–Ω–Ω—ã—Ö)
7. [API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã](#api-—ç–Ω–¥–ø–æ–∏–Ω—Ç—ã)
8. [–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î](#—Å—Ç—Ä—É–∫—Ç—É—Ä–∞-–±–¥)

---

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ì–∏–±—Ä–∏–¥–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ:

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  Frontend       ‚îÇ
‚îÇ  (React)        ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚îú‚îÄ‚ñ∫ localStorage (—á–µ—Ä–Ω–æ–≤–∏–∫–∏)
         ‚îÇ   - –¢–µ—Å—Ç—ã (draft)
         ‚îÇ   - –í–æ–ø—Ä–æ—Å—ã (draft)
         ‚îÇ   - –°—Ç–∞—Ç—É—Å—ã
         ‚îÇ
         ‚îî‚îÄ‚ñ∫ API ‚Üí –ë–î (–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ)
             - –¢–µ—Å—Ç—ã (published)
             - –í–æ–ø—Ä–æ—Å—ã (published)
```

### –ü–æ—Ç–æ–∫ —Ä–∞–±–æ—Ç—ã:

1. **–°–æ–∑–¥–∞–Ω–∏–µ** ‚Üí localStorage (draft)
2. **–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí localStorage (draft)
3. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è** ‚Üí –ë–î (published)
4. **–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ** ‚Üí –ë–î (published)

---

## –¢–∏–ø—ã –≤–æ–ø—Ä–æ—Å–æ–≤

### 1. Standard (–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π)
- **–ú–µ—Ç–∫–∞**: –° (—Å–µ—Ä–∞—è)
- **–í–∞—Ä–∏–∞–Ω—Ç—ã**: 2-10+ (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ)
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã

### 2. Analogy (–ê–Ω–∞–ª–æ–≥–∏—è)
- **–ú–µ—Ç–∫–∞**: –ê (–∑–µ–ª—ë–Ω–∞—è)
- **–í–∞—Ä–∏–∞–Ω—Ç—ã**: 4 —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö (–ê, –ë, –í, –ì)
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –õ–æ–≥–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã, –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–∏

### 3. Grammar (–ì—Ä–∞–º–º–∞—Ç–∏–∫–∞)
- **–ú–µ—Ç–∫–∞**: –ì (–∫—Ä–∞—Å–Ω–∞—è)
- **–í–∞—Ä–∏–∞–Ω—Ç—ã**: 4 —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö (–ê, –ë, –í, –ì)
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –¢–µ—Å—Ç—ã –ø–æ —è–∑—ã–∫—É

### 4. Math1 (–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ 1)
- **–ú–µ—Ç–∫–∞**: –ú1 (—Å–∏–Ω—è—è)
- **–í–∞—Ä–∏–∞–Ω—Ç—ã**: 4 (–ê –∏ –ë - –ø–æ–ª—è –≤–≤–æ–¥–∞, –í –∏ –ì - —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ)
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –≤–µ–ª–∏—á–∏–Ω

### 5. Math2 (–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞ 2)
- **–ú–µ—Ç–∫–∞**: –ú2 (—Ñ–∏–æ–ª–µ—Ç–æ–≤–∞—è)
- **–í–∞—Ä–∏–∞–Ω—Ç—ã**: 4 —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ú–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –∑–∞–¥–∞—á–∏

### 6. RAC (Reading and Comprehension)
- **–ú–µ—Ç–∫–∞**: –† (–æ—Ä–∞–Ω–∂–µ–≤–∞—è)
- **–í–∞—Ä–∏–∞–Ω—Ç—ã**: 4 —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö
- **–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ**: –ß—Ç–µ–Ω–∏–µ –∏ –ø–æ–Ω–∏–º–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞

---

## –°–æ–∑–¥–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞

### –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞

```typescript
// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ ID
const tempTestId = generateTempId(); // "temp-1234567890-abc"

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
const draftTest = {
  id: tempTestId,
  name: "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞",
  description: "–û–ø–∏—Å–∞–Ω–∏–µ",
  language: 'ru' | 'kg',
  status: 'draft',
  createdAt: new Date().toISOString(),
  updatedAt: new Date().toISOString(),
  teacherId: teacherId
};

saveDraftTest(draftTest);
setTestStatus(tempTestId, 'draft');
```

### –®–∞–≥ 2: –ü–µ—Ä–µ—Ö–æ–¥ –≤ —Ä–µ–¥–∞–∫—Ç–æ—Ä

```typescript
router.push(`/dashboard/tests/${tempTestId}`);
```

### –®–∞–≥ 3: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤

```typescript
// –°–æ–∑–¥–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
const newQuestion: Question = {
  id: generateTempId(), // –í—Ä–µ–º–µ–Ω–Ω—ã–π ID
  question: "–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞",
  answerVariants: [
    { value: "–í–∞—Ä–∏–∞–Ω—Ç 1", isCorrect: true },
    { value: "–í–∞—Ä–∏–∞–Ω—Ç 2", isCorrect: false }
  ],
  type: 'standard',
  points: 1,
  timeLimit: 60,
  language: 'ru',
  order: questions.length
};

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
TestLocalStorage.save(newQuestion.id, {
  question: newQuestion.question,
  answers: newQuestion.answerVariants,
  points: newQuestion.points,
  timeLimit: newQuestion.timeLimit,
  language: newQuestion.language
}, newQuestion.type);

// –ü—Ä–∏–≤—è–∑–∫–∞ –∫ —Ç–µ—Å—Ç—É
TestLocalStorage.addQuestionToTest(testId, newQuestion.id, newQuestion.type);
```

---

## –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞

### –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö:

```typescript
// 1. –ó–∞–≥—Ä—É–∑–∫–∞ —Ç–µ—Å—Ç–∞
if (isTempId(testId)) {
  // –ò–∑ localStorage
  const draftTest = getDraftTest(testId);
  setTest(draftTest);
} else {
  // –ò–∑ –ë–î
  const response = await fetch(`/api/teacher/tests/${testId}`);
  const test = await response.json();
  setTest(test);
}

// 2. –ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
// –ò–∑ –ë–î (–æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ)
const dbQuestions = await fetch(`/api/teacher/tests/${testId}/questions`);

// –ò–∑ localStorage (—á–µ—Ä–Ω–æ–≤–∏–∫–∏ + –Ω–æ–≤—ã–µ)
const localStorageQuestions = TestLocalStorage.getTestQuestions(testId);

// –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ
const allQuestions = [...dbQuestions, ...localStorageQuestions];
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:

```typescript
// –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
const handleQuestionChange = (questionId: string, data: QuestionData) => {
  // –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage
  TestLocalStorage.save(questionId, {
    question: data.question,
    answers: data.answerVariants,
    points: data.points,
    timeLimit: data.timeLimit,
    imageUrl: data.photoUrl
  }, data.type);
  
  // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è
  setQuestions(prev => prev.map(q => 
    q.id === questionId ? { ...q, ...data } : q
  ));
  
  setHasUnsavedChanges(true);
};
```

---

## –ü—É–±–ª–∏–∫–∞—Ü–∏—è —Ç–µ—Å—Ç–∞

### –ü—Ä–æ—Ü–µ—Å—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:

```typescript
const publishTest = async () => {
  // 1. –í–∞–ª–∏–¥–∞—Ü–∏—è
  if (questions.length === 0) {
    showError('–î–æ–±–∞–≤—å—Ç–µ —Ö–æ—Ç—è –±—ã –æ–¥–∏–Ω –≤–æ–ø—Ä–æ—Å');
    return;
  }
  
  // 2. –°–æ–∑–¥–∞–Ω–∏–µ/–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–∞ –≤ –ë–î
  let savedTestId = test.id;
  
  if (isTempId(test.id)) {
    // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞
    const response = await fetch('/api/teacher/tests', {
      method: 'POST',
      body: JSON.stringify({
        name: test.name,
        description: test.description,
        teacherId: teacherId,
        language: test.language
      })
    });
    
    const result = await response.json();
    savedTestId = result.data.id;
  } else {
    // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
    await fetch(`/api/teacher/tests/${test.id}`, {
      method: 'PUT',
      body: JSON.stringify(test)
    });
  }
  
  // 3. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤ –≤ –ë–î
  for (const question of questions) {
    if (isTempId(question.id)) {
      // –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
      await fetch(`/api/teacher/tests/${savedTestId}/questions?teacherId=${teacherId}`, {
        method: 'POST',
        body: JSON.stringify({
          question: question.question,
          answerVariants: question.answerVariants,
          photoUrl: question.photoUrl,
          points: question.points,
          timeLimit: question.timeLimit,
          type: question.type,
          language: test.language
        })
      });
    } else {
      // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–≥–æ
      await fetch(`/api/teacher/tests/${savedTestId}/questions/${question.id}`, {
        method: 'PUT',
        body: JSON.stringify(question)
      });
    }
  }
  
  // 4. –û—á–∏—Å—Ç–∫–∞ localStorage
  removeDraftTest(test.id);
  removeTestStatus(test.id);
  TestLocalStorage.removeTestQuestions(test.id);
  
  // 5. –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
  setTestStatus(savedTestId, 'published');
};
```

### –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π:

```typescript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ –≤–æ–ø—Ä–æ—Å–∞
for (const question of questions) {
  // –ú–∏–Ω–∏–º—É–º 2 –≤–∞—Ä–∏–∞–Ω—Ç–∞ –æ—Ç–≤–µ—Ç–∞
  if (question.answerVariants.filter(v => v.value.trim()).length < 2) {
    return false;
  }
  
  // –•–æ—Ç—è –±—ã –æ–¥–∏–Ω –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç
  if (!question.answerVariants.some(v => v.isCorrect)) {
    return false;
  }
  
  // –ó–∞–ø–æ–ª–Ω–µ–Ω —Ç–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞
  if (!question.question.trim() && !question.textRac.trim()) {
    return false;
  }
}
```

---

## –•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö

### localStorage —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```typescript
// –ß–µ—Ä–Ω–æ–≤–∏–∫–∏ —Ç–µ—Å—Ç–æ–≤
localStorage.setItem('teacher_tests_draft', JSON.stringify({
  'temp-123': {
    id: 'temp-123',
    name: '–¢–µ—Å—Ç',
    description: '–û–ø–∏—Å–∞–Ω–∏–µ',
    language: 'ru',
    status: 'draft',
    createdAt: '2025-01-16T10:00:00Z',
    updatedAt: '2025-01-16T10:00:00Z',
    teacherId: 'teacher_123'
  }
}));

// –°—Ç–∞—Ç—É—Å—ã —Ç–µ—Å—Ç–æ–≤
localStorage.setItem('test_statuses', JSON.stringify({
  'temp-123': 'draft',
  'test_456': 'published'
}));

// –í–æ–ø—Ä–æ—Å—ã —Ç–µ—Å—Ç–∞
localStorage.setItem('testQuestions_temp-123', JSON.stringify([
  { id: 'q1', type: 'standard' },
  { id: 'q2', type: 'analogy' }
]));

// –î–∞–Ω–Ω—ã–µ –≤–æ–ø—Ä–æ—Å–∞
localStorage.setItem('TestStandard_q1', JSON.stringify({
  question: '–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞',
  answers: [
    { id: 'a1', value: '–í–∞—Ä–∏–∞–Ω—Ç 1', isCorrect: true },
    { id: 'a2', value: '–í–∞—Ä–∏–∞–Ω—Ç 2', isCorrect: false }
  ],
  points: 1,
  timeLimit: 60,
  imageUrl: 'https://...',
  lastModified: 1234567890,
  version: 1
}));
```

### –ë–î —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:

```sql
-- –¢–∞–±–ª–∏—Ü–∞ —Ç–µ—Å—Ç–æ–≤
teacher_tests (
  id, name, description, created_by, language, created_at, updated_at
)

-- –¢–∞–±–ª–∏—Ü–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
questions (
  id, question, correct_variants_id, photo_url, 
  type_from, type_question, source_id, points, 
  language, time_limit, explanation_ai
)

-- –¢–∞–±–ª–∏—Ü–∞ –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –æ—Ç–≤–µ—Ç–æ–≤
answer_variants (
  id, question_id, value
)
```

---

## API —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã

### –¢–µ—Å—Ç—ã

**GET** `/api/teacher/tests?teacherId={id}`
```json
{
  "success": true,
  "data": [
    {
      "id": "test_123",
      "name": "–¢–µ—Å—Ç",
      "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
      "questionsCount": 10,
      "completionsCount": 5,
      "createdAt": "2025-01-16T10:00:00Z",
      "updatedAt": "2025-01-16T10:00:00Z",
      "language": "ru"
    }
  ]
}
```

**POST** `/api/teacher/tests`
```json
{
  "name": "–ù–∞–∑–≤–∞–Ω–∏–µ",
  "description": "–û–ø–∏—Å–∞–Ω–∏–µ",
  "teacherId": "teacher_123",
  "language": "ru"
}
```

**PUT** `/api/teacher/tests/{id}`
```json
{
  "name": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –Ω–∞–∑–≤–∞–Ω–∏–µ",
  "description": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ"
}
```

**DELETE** `/api/teacher/tests/{id}`
```json
{
  "success": true,
  "message": "–¢–µ—Å—Ç —É–¥–∞–ª–µ–Ω"
}
```

### –í–æ–ø—Ä–æ—Å—ã

**GET** `/api/teacher/tests/{id}/questions`
```json
{
  "success": true,
  "data": [
    {
      "id": "q_123",
      "question": "–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞",
      "answerVariants": [
        { "id": "a1", "value": "–í–∞—Ä–∏–∞–Ω—Ç 1", "isCorrect": true },
        { "id": "a2", "value": "–í–∞—Ä–∏–∞–Ω—Ç 2", "isCorrect": false }
      ],
      "photoUrl": "https://...",
      "points": 1,
      "timeLimit": 60,
      "type": "standard",
      "language": "ru"
    }
  ]
}
```

**POST** `/api/teacher/tests/{id}/questions?teacherId={teacherId}`
```json
{
  "question": "–¢–µ–∫—Å—Ç –≤–æ–ø—Ä–æ—Å–∞",
  "answerVariants": [
    { "value": "–í–∞—Ä–∏–∞–Ω—Ç 1", "isCorrect": true },
    { "value": "–í–∞—Ä–∏–∞–Ω—Ç 2", "isCorrect": false }
  ],
  "photoUrl": "https://...",
  "points": 1,
  "timeLimit": 60,
  "type": "standard",
  "language": "ru"
}
```

**PUT** `/api/teacher/tests/{id}/questions/{questionId}`
```json
{
  "question": "–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç",
  "answerVariants": [...],
  "points": 2
}
```

**DELETE** `/api/teacher/tests/{id}/questions/{questionId}`
```json
{
  "success": true,
  "message": "–í–æ–ø—Ä–æ—Å —É–¥–∞–ª–µ–Ω"
}
```

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ë–î

### –¢–∞–±–ª–∏—Ü–∞ `teacher_tests`:

```prisma
model Teacher_tests {
  id          String   @id @default(cuid())
  name        String
  description String?
  created_by  String
  language    UserLanguage // 'ru' | 'kg'
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt

  @@map("teacher_tests")
}
```

### –¢–∞–±–ª–∏—Ü–∞ `questions`:

```prisma
model Questions {
  id                  String           @id @default(cuid())
  question            String
  correct_variants_id String           // ID –ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –æ—Ç–≤–µ—Ç–æ–≤ —á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é
  photo_url           String?
  type_from           QuestionTypeFrom // 'from_teacher'
  type_question       QuestionType     // 'standard' | 'analogy' | 'grammar' | 'math1' | 'math2' | 'rac'
  source_id           String           // ID —Ç–µ—Å—Ç–∞
  points               Int              @default(1)
  language             UserLanguage
  time_limit           Int              @default(60)
  explanation_ai       String?
  created_at           DateTime         @default(now())
  updated_at           DateTime         @updatedAt

  answer_variants Answer_variants[]

  @@map("questions")
}
```

### –¢–∞–±–ª–∏—Ü–∞ `answer_variants`:

```prisma
model Answer_variants {
  id          String   @id @default(cuid())
  question_id String
  value       String
  created_at  DateTime @default(now())
  updated_at  DateTime @updatedAt

  question Questions @relation(fields: [question_id], references: [id], onDelete: Cascade)

  @@map("answer_variants")
}
```

---

## –£—Ç–∏–ª–∏—Ç—ã

### –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö ID:

```typescript
export function generateTempId(): string {
  return `temp-${Date.now()}-${Math.random().toString(36).substring(2, 15)}`;
}

export function isTempId(id: string): boolean {
  return id.startsWith('temp-');
}
```

### –†–∞–±–æ—Ç–∞ —Å localStorage:

```typescript
// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
saveDraftTest(draftTest);

// –ü–æ–ª—É—á–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
const draft = getDraftTest(testId);

// –£–¥–∞–ª–µ–Ω–∏–µ —á–µ—Ä–Ω–æ–≤–∏–∫–∞
removeDraftTest(testId);

// –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
TestLocalStorage.save(questionId, questionData, questionType);

// –ó–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–∞
const question = TestLocalStorage.load(questionId, questionType);

// –ü–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ —Ç–µ—Å—Ç–∞
const questions = TestLocalStorage.getTestQuestions(testId);

// –£–¥–∞–ª–µ–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–∞
TestLocalStorage.remove(questionId, questionType);
```

### –°—Ç–∞—Ç—É—Å—ã —Ç–µ—Å—Ç–æ–≤:

```typescript
// –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
setTestStatus(testId, 'draft' | 'published');

// –ü–æ–ª—É—á–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
const status = getTestStatus(testId);

// –£–¥–∞–ª–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞
removeTestStatus(testId);
```

---

## –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### CreateTest
- –°–ø–∏—Å–æ–∫ —Ç–µ—Å—Ç–æ–≤
- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
- –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–µ—Å—Ç–∞
- –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ/—É–¥–∞–ª–µ–Ω–∏–µ

### TestEditorPage
- –†–µ–¥–∞–∫—Ç–æ—Ä —Ç–µ—Å—Ç–∞
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ/—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤–æ–ø—Ä–æ—Å–æ–≤
- –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è

### QuestionEditor
- –†–µ–¥–∞–∫—Ç–æ—Ä –≤–æ–ø—Ä–æ—Å–∞
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
- –ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- –§–æ—Ä–º—É–ª—ã LaTeX

### TestToolbar
- –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–µ–∫—Å—Ç–∞
- –í—Å—Ç–∞–≤–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π
- AI –æ–±—ä—è—Å–Ω–µ–Ω–∏—è

---

## –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏

### 1. –ì–∏–±—Ä–∏–¥–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ:
- **–ß–µ—Ä–Ω–æ–≤–∏–∫–∏** ‚Üí localStorage (–±—ã—Å—Ç—Ä–æ, –æ—Ñ–ª–∞–π–Ω)
- **–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–µ** ‚Üí –ë–î (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ)

### 2. –í—Ä–µ–º–µ–Ω–Ω—ã–µ ID:
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ
- –ó–∞–º–µ–Ω–∞ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

### 3. –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

### 4. –í–∞–ª–∏–¥–∞—Ü–∏—è:
- –ù–∞ –∫–ª–∏–µ–Ω—Ç–µ –ø–µ—Ä–µ–¥ –ø—É–±–ª–∏–∫–∞—Ü–∏–µ–π
- –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

### 5. –¢–∏–ø—ã –≤–æ–ø—Ä–æ—Å–æ–≤:
- –†–∞–∑–Ω—ã–µ UI –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- –ï–¥–∏–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- –ú–∞–ø–ø–∏–Ω–≥ —Ç–∏–ø–æ–≤ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏

---

## –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

### 1. –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
- –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–¥—Å—á–µ—Ç–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
- –õ–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –≤–æ–ø—Ä–æ—Å–æ–≤
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è localStorage –æ–ø–µ—Ä–∞—Ü–∏–π

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:
- –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞
- –°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

### 3. UX:
- –ê–≤—Ç–æ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ
- –ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã –∑–∞–≥—Ä—É–∑–∫–∏
- –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ —É–¥–∞–ª–µ–Ω–∏—è
- –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ –Ω–µ—Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö

---

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –≥–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥:
- **localStorage** –¥–ª—è —á–µ—Ä–Ω–æ–≤–∏–∫–æ–≤ (–±—ã—Å—Ç—Ä–æ, –æ—Ñ–ª–∞–π–Ω)
- **–ë–î** –¥–ª—è –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ (–ø–æ—Å—Ç–æ—è–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ)

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç 6 —Ç–∏–ø–æ–≤ –≤–æ–ø—Ä–æ—Å–æ–≤ —Å —Ä–∞–∑–Ω—ã–º–∏ UI –∏ –µ–¥–∏–Ω–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä–æ–π –¥–∞–Ω–Ω—ã—Ö.

**–î–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è:** 2025-01-16  
**–í–µ—Ä—Å–∏—è:** 1.0

